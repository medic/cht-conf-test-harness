<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Harness</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Harness</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Harness<span class="signature">(options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">A harness for testing MedicMobile WebApp configurations</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Harness"><span class="type-signature"></span>new Harness<span class="signature">(options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Specify the behavior of the Harness
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">Detailed console logging when true</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logFormErrors</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">Errors displayed by forms will be logged via console when true</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>directory</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    process' working directory
                
                </td>
            

            <td class="description last">Path to directory of configuration files being tested</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xformFolderPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    path.join(options.directory, 'forms')
                
                </td>
            

            <td class="description last">Path to directory containing xform files</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appXFormFolderPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    path.join(options.xformFolderPath, 'app')
                
                </td>
            

            <td class="description last">Path used by the loadForm interface</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contactXFormFolderPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    path.join(options.xformFolderPath, 'contact')
                
                </td>
            

            <td class="description last">Path used by the fillContactForm interface</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appSettingsPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    path.join(options.directory, 'app_settings.json')
                
                </td>
            

            <td class="description last">Path to file containing app_settings.json to test</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>harnessDataPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    path.join(options.directory, 'harness.defaults.json')
                
                </td>
            

            <td class="description last">Path to harness configuration file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>coreVersion</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">The version of cht-core to emulate @example "3.8.0"</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">The default <a href="global.html#HarnessInputs">HarnessInputs</a> controlling the environment in which your application is running</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userRoles</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">The default <a href="global.html#HarnessInputs">HarnessInputs</a> controlling the environment in which your application is running</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>subject</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">The default <a href="global.html#HarnessInputs">HarnessInputs</a> controlling the environment in which your application is running</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>content</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">The default <a href="global.html#HarnessInputs">HarnessInputs</a> controlling the environment in which your application is running</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contactSummary</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">The default <a href="global.html#HarnessInputs">HarnessInputs</a> controlling the environment in which your application is running</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headless</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last">The options object is also passed into Puppeteer and can be used to control <a href="https://github.com/GoogleChrome/puppeteer/blob/v1.18.1/docs/api.md#puppeteerlaunchoptions">any of its options</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>slowMo</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">The options object is also passed into Puppeteer and can be used to control <a href="https://github.com/GoogleChrome/puppeteer/blob/v1.18.1/docs/api.md#puppeteerlaunchoptions">any of its options</a></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const Harness = require('cht-conf-test-harness');
const instance = new Harness({
  verbose: true,
  directory: '/home/me/config-me/',
});
await instance.start();
await instance.setNow('2000-01-01');
await instance.loadForm('my_xform');
const result = await instance.fillForm(['first page, first answer', 'first page, second answer'], ['second page, first answer']);
expect(result.errors).to.be.empty;
expect(result.report).to.deep.include({
 fields: {
   patient_name: 'Patient Name',
   next_pnc: {
     s_next_pnc: 'no',
     next_pnc_date: '',
   },
 }
});</code></pre>



    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="consoleErrors"><span class="type-signature"></span>consoleErrors<span class="type-signature"></span></h4>




<div class="description">
    A filtered set of errors inside of state.console. Useful for easy assertions.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line514">line 514</a>
    </li></ul></dd>
    

    

    

    
</dl>





    <h5>Example</h5>
    
    <pre class="prettyprint"><code>expect(harness.consoleErrors).to.be.empty;</code></pre>



        
            
<h4 class="name" id="content"><span class="type-signature"></span>content<span class="type-signature"></span></h4>




<div class="description">
    `content` from the <a href="global.html#HarnessInputs">HarnessInputs</a> set through the constructor (defaulting to values from harness.defaults.json file)
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line546">line 546</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="coreVersion"><span class="type-signature"></span>coreVersion<span class="type-signature"></span></h4>




<div class="description">
    `coreVersion` is the version of the cht-core that is being emulated in testing (eg. 3.9.0)
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line541">line 541</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="state"><span class="type-signature"></span>state<span class="type-signature"></span></h4>




<div class="description">
    Details the current <a href="global.html#HarnessState">HarnessState</a> of the Harness
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line595">line 595</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="user"><span class="type-signature"></span>user<span class="type-signature"></span></h4>




<div class="description">
    `user` from the <a href="global.html#HarnessInputs">HarnessInputs</a> set through the constructor (defaulting to values from harness.defaults.json file)
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line523">line 523</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="userRoles"><span class="type-signature"></span>userRoles<span class="type-signature"></span></h4>




<div class="description">
    `userRoles` from the <a href="global.html#HarnessInputs">HarnessInputs</a> set through the constructor (defaulting to values from harness.defaults.json file)
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line535">line 535</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="userSettingsDoc"><span class="type-signature"></span>userSettingsDoc<span class="type-signature"></span></h4>




<div class="description">
    `userSettingsDoc` from the <a href="global.html#HarnessInputs">HarnessInputs</a> set through the constructor
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>{Object} A constructed object of type `user-settings` https://docs.communityhealthtoolkit.org/core/overview/db-schema/#users based on
known user information</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line564">line 564</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="clear"><span class="type-signature">(async) </span>clear<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Resets the <a href="global.html#HarnessState">HarnessState</a>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line169">line 169</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves when the state of the harness when cleared
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="countTaskDocsByState"><span class="type-signature">(async) </span>countTaskDocsByState<span class="signature">(options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Counts the number of task documents grouped by state. <a href="https://docs.communityhealthtoolkit.org/core/overview/db-schema/#tasks">Explanation of task documents and states</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Some options when summarizing the tasks
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter task documents counted to only those with emitted `title` equal to this parameter. Filter is skipped if undefined.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Default specified via constructor
                
                </td>
            

            <td class="description last">The current logged-in user which is viewing the tasks.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userRoles</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Default specified via constructor
                
                </td>
            

            <td class="description last">The roles associated with the current logged-in user which is viewing the tasks.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>actionForm</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter task documents counted to only those whose action opens the form equal to this parameter. Filter is skipped if undefined.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ownedBySubject</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter task documents counted to only those owned by the subject. Filter is skipped if false.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line385">line 385</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Map with keys equal to task document state and values equal to the number of task documents in that state.
</div>



    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const summary = await countTaskDocsByState({ title: 'my-task-title' });
expect(summary).to.nested.include({
  Complete: 1, // 1 task events were marked as resolved
  Failed: 2,   // 2 task events were not marked as resolved prior to expiring
  Draft: 3,    // 3 task events are in the future
});</code></pre>



        
            

    

    
    <h4 class="name" id="fillContactCreateForm"><span class="type-signature">(async) </span>fillContactCreateForm<span class="signature">(contactType, &hellip;answers)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Loads and fills a contact form
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>contactType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Type of contact that should be created</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>answers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Provide an array for the answers given on each page. See fillForm for more details.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line225">line 225</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="fillContactEditForm"><span class="type-signature">(async) </span>fillContactEditForm<span class="signature">(contactType, &hellip;answers)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Loads and fills a contact edit form
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>contactType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Type of contact that should be created</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>answers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Provide an array for the answers given on each page. See fillForm for more details.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line237">line 237</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="fillContactForm"><span class="type-signature">(async) </span>fillContactForm<span class="signature">(contactType, &hellip;answers)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>contactType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Type of contact that should be created</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>answers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Provide an array for the answers given on each page. See fillForm for more details.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>since version 2.4.1, use fillContactCreateForm instead

Loads and fills a contact form,</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line215">line 215</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="fillForm"><span class="type-signature">(async) </span>fillForm<span class="signature">(load, &hellip;answers)</span><span class="type-signature"> &rarr; {<a href="global.html#FillResult">FillResult</a>}</span></h4>
    

    



<div class="description">
    Fills in a form given some answers
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>load</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">An optional shorthand for loading a form before filling it. If a string is provided, this will be passed to loadForm as the formName.
If an Object is provided, it can have attributes { form, user, content, contactSummary }</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>answers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Provide an array for the answers given on each page</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line295">line 295</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The result of filling the form
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#FillResult">FillResult</a></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Load a form and then fill it in
await harness.loadForm('my_form');
const result = await harness.fillForm(['first page first answer', 'first page second answer'], ['second page first answer']);

// Load and fill a form in one statement
const result = await harness.fillForm('my_form', ['1', '2'], ['3']});</code></pre>



        
            

    

    
    <h4 class="name" id="flush"><span class="type-signature">(async) </span>flush<span class="signature">(amount)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Increment the current time by an amount
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">Duration</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">An object with attributes { years, quarters, months, weeks, days, hours, minutes, seconds, milliseconds } describing how far to move forward in time, a <a href="https://moment.github.io/luxon/docs/class/src/duration.js~Duration.html">Duration object</a> or a number describing how many days to move forward in time.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line275">line 275</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>await flush({ years: 1, minutes: 5 }); // move one year and 5 minutes forward in time
await flush(1); // move one day forward in time</code></pre>



        
            

    

    
    <h4 class="name" id="getContactSummary"><span class="type-signature">(async) </span>getContactSummary<span class="signature">(contact<span class="signature-attributes">opt</span>, reports<span class="signature-attributes">opt</span>, lineage<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#ContactSummary">ContactSummary</a>}</span></h4>
    

    



<div class="description">
    Obtains the result of the running the contact-summary.js or the compiled contact-summary.templated.js scripts from the project folder
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>contact</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The contact doc that will be passed into the contactSummary script. Given a {string}, a contact will be loaded and hydrated from <a href="global.html#HarnessState">HarnessState</a>. If left empty, the subject will be used.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reports</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">An array of reports associated with contact. If left empty, the contact's reports will be loaded from <a href="global.html#HarnessState">HarnessState</a>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lineage</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">An array of the contact's hydrated ancestors. If left empty, the contact's ancestors will be used from <a href="global.html#HarnessState">HarnessState</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line651">line 651</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The result of the contact summary under test.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#ContactSummary">ContactSummary</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getNow"><span class="type-signature"></span>getNow<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Get the current mock-time. If no time has been set, defaults to the current system time.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line264">line 264</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The current mock-time as epoch time (set via `setNow` or `flush`). If time has not been mocked, defaults to the current system clock.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTargets"><span class="type-signature">(async) </span>getTargets<span class="signature">(options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#Target">Target</a>>}</span></h4>
    

    



<div class="description">
    Check the state of targets
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Some options for looking for checking for targets
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter the returns targets to those with an `id` which matches type (when string) or is included in type (when Array).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Default specified via constructor
                
                </td>
            

            <td class="description last">The current logged-in user which is viewing the tasks.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userRoles</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Default specified via constructor
                
                </td>
            

            <td class="description last">The roles associated with the current logged-in user which is viewing the tasks.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line423">line 423</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An array of targets which would be visible to the user
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#Target">Target</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTasks"><span class="type-signature">(async) </span>getTasks<span class="signature">(options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#Task">Task</a>>}</span></h4>
    

    



<div class="description">
    Check which tasks are visible
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Some options when checking for tasks
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter the returns tasks to those with attribute `title` equal to this value. Filter is skipped if undefined.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Default specified via constructor
                
                </td>
            

            <td class="description last">The current logged-in user which is viewing the tasks.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userRoles</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Default specified via constructor
                
                </td>
            

            <td class="description last">The roles associated with the current logged-in user which is viewing the tasks.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>actionForm</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter task documents to only those whose action opens the form equal to this parameter. Filter is skipped if undefined.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ownedBySubject</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filter task documents to only those owned by the subject. Filter is skipped if false.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line336">line 336</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An array of task documents which would be visible to the user given the current <a href="global.html#HarnessState">HarnessState</a>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#Task">Task</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadAction"><span class="type-signature">(async) </span>loadAction<span class="signature">(taskDoc)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Simulates the user clicking on an action
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>taskDoc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">A <a href="global.html#Task">Task</a> or, if that task has multiple actions then one of the direct actions</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line470">line 470</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Complete a form on January 1
await harness.setNow('2000-01-01')
const initialResult = await harness.fillForm('pnc_followup', ['no'], ['yes', '2000-01-07']);
expect(initialResult.errors).to.be.empty;

// Verify a task appears on January 7
await harness.setNow('2000-01-07');
const tasks = await harness.getTasks();
expect(tasks).to.have.property('length', 1);

// Complete the task's action
await harness.loadAction(tasks[0]);
const followupResult = await harness.fillForm(['no_come_back']);
expect(followupResult.errors).to.be.empty;

// Verify the task got resolved
const actual = await harness.getTasks();
expect(actual).to.be.empty;</code></pre>



        
            

    

    
    <h4 class="name" id="loadForm"><span class="type-signature">(async) </span>loadForm<span class="signature">(formName)</span><span class="type-signature"> &rarr; {<a href="global.html#HarnessState">HarnessState</a>}</span></h4>
    

    



<div class="description">
    Load a form from the app folder into the harness for testing
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Filename of an Xml file describing an XForm to load for testing</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.user</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">You can override some or all of the <a href="global.html#HarnessInputs">HarnessInputs</a> attributes.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.subject</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">You can override some or all of the <a href="global.html#HarnessInputs">HarnessInputs</a> attributes.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.content</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">You can override some or all of the <a href="global.html#HarnessInputs">HarnessInputs</a> attributes.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.contactSummary</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    harness configuration file
                
                </td>
            

            <td class="description last">You can override some or all of the <a href="global.html#HarnessInputs">HarnessInputs</a> attributes.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Use fillForm interface (#40)</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line185">line 185</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The current state of the form
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#HarnessState">HarnessState</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="pushMockedDoc"><span class="type-signature"></span>pushMockedDoc<span class="signature">(&hellip;docs)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Push a mocked document directly into the state
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>docs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">The document to push</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line601">line 601</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setNow"><span class="type-signature"></span>setNow<span class="signature">(now)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set the current mock-time of the harness. Mocks global time <a href="https://sinonjs.org/releases/v1.17.6/fake-timers/">uses sinon</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>now</code></td>
            

            <td class="type">
            
                
<span class="param-type">Date</span>
|

<span class="param-type">DateTime</span>
|

<span class="param-type">number</span>
|

<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A Date object, <a href="https://moment.github.io/luxon/docs/class/src/datetime.js~DateTime.html">DateTime object</a> or a value which can be parsed into a Date</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line250">line 250</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="start"><span class="type-signature">(async) </span>start<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.Browser}</span></h4>
    

    



<div class="description">
    Starts a virtual browser. Typically put this in your test's before <a href="https://mochajs.org/#hooks">hook</a> or alike.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves a <a href="https://github.com/GoogleChrome/puppeteer/blob/v1.18.1/docs/api.md#class-browser">Puppeteer Browser</a> when the harness is ready.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.Browser</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>before(async () => { return await harness.start(); });</code></pre>



        
            

    

    
    <h4 class="name" id="stop"><span class="type-signature">(async) </span>stop<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Stops and cleans up the virtual browser.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="harness.js.html">harness.js</a>, <a href="harness.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves when the harness is fully cleaned up.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>after(async () => { return await harness.stop(); });</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="mock.cht-conf.module_contact-summary-lib.html">contact-summary-lib</a></li><li><a href="mock.cht-conf.module_nools-lib.html">nools-lib</a></li><li><a href="mock.rules-engine.module_rules-emitter.html">rules-emitter</a></li><li><a href="module-core-adapter.html">core-adapter</a></li></ul><h3>Classes</h3><ul><li><a href="Harness.html">Harness</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fillContactForm">fillContactForm</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue Apr 12 2022 01:26:36 GMT+0300 (East Africa Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>